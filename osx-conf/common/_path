# Ensure this file is loaded early
# vim: ft=sh sw=2 ts=2 expandtab

# This file is named _path so it loads first.
push_to_path() {
  [[ -d "$1" && ! "$PATH" =~ (^|:)$1(:|$) ]] && PATH="$1:$PATH"
}

# macforge helper scripts and user bins first.
MACFORGE_LOAD_ROOT="${LOAD_ROOT:-$HOME/Projects/macforge/osx-conf}"
push_to_path "$MACFORGE_LOAD_ROOT/bin"
push_to_path "$HOME/.local/bin"
push_to_path "$HOME/go/bin"
push_to_path "/usr/local/go/bin"

# Homebrew binaries (Apple Silicon and Intel Macs).
if [[ -d "/opt/homebrew/bin" ]]; then
  push_to_path "/opt/homebrew/bin"
  push_to_path "/opt/homebrew/sbin"
elif [[ -d "/usr/local/bin" ]]; then
  push_to_path "/usr/local/bin"
  push_to_path "/usr/local/sbin"
fi

# System paths at the end.
push_to_path "/usr/bin"
push_to_path "/bin"
push_to_path "/usr/sbin"
push_to_path "/sbin"

export PATH
